cscope 15 $HOME/os161/src/userland/testbin/sort               0000001318
	@sort.c

39 
	~<°dlib.h
>

40 
	~<°rög.h
>

41 
	~<îr.h
>

42 
	~<°dio.h
>

45 
	#SIZE
 (144*1024)

	)

60 
	$s‹t
(*
¨r
, 
size
)

62 
tmp
[
SIZE
];

63 
pivŸ
, 
i
, 
j
, 
k
;

65 i‡(
size
<2) {

69 
pivŸ
 = 
size
/2;

70 
	`s‹t
(
¨r
, 
pivŸ
);

71 
	`s‹t
(&
¨r
[
pivŸ
], 
size
-pivot);

73 
i
 = 0;

74 
j
 = 
pivŸ
;

75 
k
 = 0;

76 
i
<
pivŸ
 && 
j
<
size
) {

77 i‡(
¨r
[
i
] <áº[
j
]) {

78 
tmp
[
k
++] = 
¨r
[
i
++];

81 
tmp
[
k
++] = 
¨r
[
j
++];

84 
i
<
pivŸ
) {

85 
tmp
[
k
++] = 
¨r
[
i
++];

87 
j
<
size
) {

88 
tmp
[
k
++] = 
¨r
[
j
++];

91 
	`mem˝y
(
¨r
, 
tmp
, 
size
*());

92 
	}
}

95 
	gA
[
SIZE
];

99 
	$öô¨øy
()

101 
i
;

106 
	`¥ötf
("beforeÑandom\n");

107 
	`§™dom
(533);

108 
	`¥ötf
("afterÑandom\n");

109 
	`¥ötf
("beforeÜoop\n");

110 
i
 = 0; i < 
SIZE
; i++) {

111 
A
[
i
] = 
	`øndom
();

113 
A
[
i
]=i;

115 
	`¥ötf
("afterÜoop\n");

116 
	}
}

120 
	$check
()

122 
i
;

124 
i
=0; i<
SIZE
-1; i++) {

125 i‡(
A
[
i
] > A[i+1]) {

126 
	`îrx
(1, "Failed: A[%d] is %d, A[%d] is %d",

127 
i
, 
A
[i], i+1, A[i+1]);

130 
	`w¨nx
("Passed.");

131 
	}
}

134 
	$maö
()

136 
	`¥ötf
("before init\n");

137 
	`öô¨øy
();

138 
	`s‹t
(
A
, 
SIZE
);

139 
	`check
();

141 
	}
}

	@
1
.
0
1
7
sort.c
